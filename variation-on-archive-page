// https://stackoverflow.com/questions/51756801/display-size-product-attribute-values-for-variations-in-woocommerce-archive-page

add_action( 'woocommerce_after_shop_loop_item', 'display_attribute_size_for_variations' );
function display_attribute_size_for_variations(){
    global $product;

    // HERE the taxonomy for the targeted product attribute
    $taxonomy = 'pa_size';

    if ( $product->get_type() == 'variable' ) {
        $output = array();
        foreach ($product->get_available_variations() as $values) {
            foreach ( $values['attributes'] as $attr_variation => $term_slug ) {
                // Targetting "Size" attribute only
                if( $attr_variation === 'attribute_' . $taxonomy ){
                    // Add the size attribute term name value to the array (avoiding repetitions)
                    $output[$term_slug] = get_term_by( 'slug', $term_slug, $taxonomy )->name;
                }
            }
        }
        if ( sizeof($output) > 0 ) {
            echo '<div class="'.$taxonomy.'-variations-terms">' . implode( ', ', $output ).'</div>';
        }
    }
}

